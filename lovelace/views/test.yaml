---

anchors:
  darren_mobile_styles: &darrenmobilestyles
    style:
      background: rgba(0,0,0,0.35)
      border-radius: 15px
      box-shadow: 0 10px 6px -6px rgba(0,0,0,0.73)
      "--primary-text-color": "#fbfbfb"
      "--paper-card-background-color": 'rgba(0, 0, 0,0.85)'
      font-weight: bold
      font-size: 1.85em
      text-transform: capitalize
      font-variant: small-caps
      text-shadow: "2px 2px 0 #444444, 2px -2px 0 #444444, -2px 2px 0 #444444, -2px -2px 0 #444444, 2px 0px 0 #444444, 0px 2px 0 #444444, -2px 0px 0 #444444, 0px -2px 0 #444444"  #  "0 1px 0 #CCCCCC, 0 2px 0 #c9c9c9, 0 3px 0 #bbb, 0 4px 0 #b9b9b9, 0 5px 0 #aaa, 0 6px 1px rgba(0,0,0,.1), 0 0 5px rgba(0,0,0,.1), 0 1px 3px rgba(0,0,0,.3), 0 3px 5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.25), 0 10px 10px rgba(0,0,0,.2), 0 20px 20px rgba(0,0,0,.15)"   #"3px 3px 6px black, 0 0 7px var(--accent-color)"
      "--paper-item-icon-color": 'var(--accent-color)'
      "--iron-icon-height": 41px
      "--iron-icon-width": 41px

  view_extra_styles: &viewextrastyles
    extra_styles: >
      @keyframes ready {
        from {border: solid 3px lime;}
        to {border: solid 3px black;}
      }
      @keyframes alarm {
        from {border: solid 3px red;}
        to {border: solid 3px black; background: red;}
      }
      @keyframes alert {
        from {border: solid 3px yellow;}
        to {border: solid 3px black; background: yellow;}
      }

  header_text: &headertext
    style:
      border-radius: 12px
      --paper-card-background-color: rgba(0, 0, 0, 0.0)
      box-shadow: 2px 2px rgba(0,0,0,0.0)
      padding: 0px 10px
      height: 28px
      font-family: Righteous

  frontpage_size: &frontpagesize
    color: auto

  light_button_style: &lightbuttonstyle
    styles:
      card:
        - border-radius: 12px
        - width: 105px
        - height: 105px
        - --paper-card-background-color: 'rgba(0, 0, 0, 0.8)'
        - box-shadow: 0 2px 4px 0 rgba(255, 255, 255, 0.35), 0 3px 10px 0 rgba(255, 255, 255, 0.34)
      label:
        - color: white
        - font-size: 12px
        - font-family: Righteous
        - padding: 0px 10px
        - justify-self: start
      state:
        - font-size: 12px
        - font-family: Righteous
        - padding: 0px 10px
        - justify-self: start
        - text-transform: capitalize
        - font-weight: bold
        - padding-left: 10px
      grid:
        - grid-template-areas: '"i" "n" "s" "l"'
        - grid-template-columns: 1fr
        - grid-template-rows: 1fr min-content min-content
      img_cell:
        - align-self: start
        - text-align: start
        - margin-right: 60px
      name:
        - justify-self: start
        - padding-left: 10px
        - font-weight: bold
        - font-family: Righteous
        - font-size: 12px

  light_button_state: &lightbuttonstate
    state:
      - value: "on"
        styles:
          card:
            - box-shadow: '0px 0px 4px 2px var(--sidebar-icon-color)'
          name:
            - color: 'var(--sidebar-icon-color)'
          state:
            - color: white
          lock:
            - color: black
      - value: "off"
        styles:
          card:
            - opacity: 0.7
            - box-shadow: 0 2px 4px 0 rgba(255, 255, 255, 0.35), 0 3px 10px 0 rgba(255, 255, 255, 0.34)
          icon:
            - color: white
          name:
            - color: white
          state:
            - color: white
          lock:
            - color: black
      - value: "unavailable"
        style:
          - opacity: 0.2
          - color: black
          - --paper-item-icon-color: black

  light_button_actions: &lightbuttonactions
    tap_action:
      action: toggle
      haptic: light
    hold_action:
      action: more-info
      haptic: success

  standard_button_style: &standardbuttonstyle
    card:
      - border-radius: 12px
      - width: 105px
      - height: 105px
      - --paper-card-background-color: 'rgba(0, 0, 0, 0.8)'

    label:
      - color: white
      - font-size: 12px
      - font-family: Righteous
      - padding: 0px 10px
      - justify-self: start
    state:
      - font-size: 12px
      - font-family: Righteous
      - padding: 0px 10px
      - justify-self: start
      - text-transform: capitalize
      - padding-left: 10px
      - color: white
    grid:
      - grid-template-areas: '"i" "n" "s" "l"'
      - grid-template-columns: 1fr
      - grid-template-rows: 1fr min-content min-content
    img_cell:
      - align-self: start
      - text-align: start
      - margin-right: 45px
    name:
      - justify-self: start
      - padding-left: 10px
      - font-weight: bold
      - font-family: Righteous
      - font-size: 12px
      - color: white
    icon:
      - color: white

  light_button2_style: &lightbutton2style
    styles:
      card:
        - border-radius: 12px
        - width: 90px
        - height: 90px
        - --paper-card-background-color: rgba(0, 0, 0, 0.8)
      label:
        - color: white
        - font-size: 12px
        - font-family: Righteous
        - padding: 0px 10px
        - justify-self: start
      state:
        - font-size: 12px
        - font-family: Righteous
        - padding: 0px 10px
        - justify-self: start
        - text-transform: capitalize
        - font-weight: bold
        - padding-left: 10px
      grid:
        - grid-template-areas: '"i" "n" "s" "l"'
        - grid-template-columns: 1fr
        - grid-template-rows: 1fr min-content min-content
      img_cell:
        - align-self: start
        - text-align: start
        - margin-right: 60px
      name:
        - justify-self: start
        - padding-left: 10px
        - font-weight: bold
        - font-family: Righteous
        - font-size: 12px

  light_button3_style: &lightbutton3style
    styles:
      card:
        - border-radius: 12px
        - width: 160px
        - height: 160px
        - --paper-card-background-color: rgba(0, 0, 0, 0.8)
      label:
        - color: white
        - font-size: 18px
        - font-family: Righteous
        - padding: 0px 10px
        - justify-self: start
      state:
        - font-size: 18px
        - font-family: Righteous
        - padding: 0px 10px
        - justify-self: start
        - text-transform: capitalize
        - padding-left: 10px
      grid:
        - grid-template-areas: '"i" "n" "s" "l"'
        - grid-template-columns: 1fr
        - grid-template-rows: 1fr min-content min-content
      img_cell:
        - align-self: start
        - text-align: start
        - margin-right: 60px
      name:
        - justify-self: start
        - padding-left: 10px
        - font-family: Righteous
        - font-size: 20px

  alarm_button_style: &alarmbuttonstyle
    card:
      - border-radius: 15px
      - width: 360px
      - height: 94px
      - --paper-card-background-color: 'rgba(0, 0, 0, 0.35)'
    state:
      - font-size: 16px
      - font-family: Righteous
      - padding: 5px 0px
      - justify-self: center
      - text-transform: capitalize
      - letter-spacing: 1.5px
      - color: white
    grid:
      - grid-template-areas: '"i" "n" "s" "l"'
      - grid-template-columns: 1fr
      - grid-template-rows: 1fr min-content min-content
    img_cell:
      - align-self: center
      - text-align: center
    name:
      - justify-self: center
      - font-weight: bold
      - font-family: Righteous
      - font-size: 12px
      - color: white
    icon:
      - color: white

  alarm_button2_style: &alarmbutton2style
    card:
      - border-radius: 15px
      - width: 111px
      - height: 82px
      - --paper-card-background-color: rgba(0, 0, 0, 0.40)
    state:
      - font-size: 18px
      - font-family: Righteous
      - padding: 5px 0px
      - justify-self: center
      - text-transform: capitalize
      - font-variant: small-caps
      - letter-spacing: 1.2px
      - color: white
    grid:
      - grid-template-areas: '"i" "n" "s" "l"'
      - grid-template-columns: 1fr
      - grid-template-rows: 1fr min-content min-content
    img_cell:
      - align-self: center
      - text-align: center
    name:
      - justify-self: center
      - font-weight: bold
      - font-family: Righteous
      - font-size: 12px
      - color: white
    icon:
      - color: white

  fan_state: &fanstate
    state:
      - value: "on"
        styles:
          card:
            - box-shadow: '0px 0px 4px 2px var(--sidebar-icon-color)'
          name:
            - color: 'var(--sidebar-icon-color)'
          state:
            - color: white
          icon:
            - color: 'var(--accent-color)'
          lock:
            - color: black
        spin: true
      - value: "off"
        styles:
          card:
            - opacity: 0.7
            - box-shadow: 0 2px 4px 0 rgba(255, 255, 255, 0.35), 0 3px 10px 0 rgba(255, 255, 255, 0.34)
          icon:
            - color: white
            - --iron-icon-stroke-color: white
          name:
            - color: white
          state:
            - color: white
          lock:
            - color: black
      - value: "unavailable"
        style:
          - opacity: 0.2
          - color: black
          - --paper-item-icon-color: black

  standard_button_actions: &standardbuttonactions
    tap_action:
      action: more-info
      haptic: light

  standard_button_actions2: &standardbuttonactions2
    tap_action:
      action: toggle
      haptic: success

  standard_button_actions3: &standardbuttonactions3
    tap_action:
      action: call-service
      service: script.office_lamps
      haptic: success

  standard_button_actions4: &standardbuttonactions4
    tap_action:
      action: call-service
      service: script.alarm_panel_popup
      haptic: success

  show_label: &showlabel
    show_state: false
    show_label: true
  show_state: &showstate
    show_state: true
    show_label: false
  show_both: &showboth
    show_state: true
    show_label: true
  show_none: &shownone
    show_state: false
    show_label: false
    show_name: false

decluttering_templates:
  bar_card_temp:
    card:
      type: custom:bar-card
      severity:
        - value: '[[value_1]]'
          color: '[[color_1]]'
        - value: '[[value_2]]'
          color: '[[color_2]]'
        - value: 120
          color: '[[color_3]]'
      title_position: inside
      decimal: '0'
      columns: '[[columns]]'
      padding: 2px
      align: split
      show_icon: true
      rounding: 6px
      saturation: 85%
      height: '[[height]]'
      card_style:
        background: 'rgba(0, 0, 0, 0.4)'
        border-radius: 10px
      title_style:
        font-weight: bold
        font-size: 1em
        text-transform: capitalize
        font-variant: small-caps
        color: '#FFF'
        text-shadow: "2px 2px 4px black"
      value_style:
        font-size: 1.2em
        font-weight: bold
        text-shadow: "2px 2px 4px black"
      entity: '[[entity]]'
      title: '[[title]]'
      tap_action: '[[tap_action]]'
      service_options:
        domain: '[[domain]]'
        service: '[[service]]'
        data:
          entity_id: '[[entity_id]]'

  motion_button_temp:
    card:
      type: custom:button-card
      entity: '[[entity]]'
      name: '[[name]]'
      icon: '[[icon]]'
      show_last_changed: true
      color: auto
      size: 30%
      <<: *lightbuttonstyle
      <<: *showboth
      <<: *lightbuttonstate
      <<: *standardbuttonactions

  motion_button2_temp:
    card:
      type: custom:button-card
      entity: '[[entity]]'
      name: '[[name]]'
      icon: '[[icon]]'
      show_last_changed: true
      color: auto
      size: 40%
      <<: *lightbutton3style
      <<: *showboth
      <<: *lightbuttonstate
      <<: *standardbuttonactions

  fan_button_temp:
    card:
      type: custom:button-card
      entity: '[[entity]]'
      name: '[[name]]'
      icon: '[[icon]]'
      show_last_changed: true
      color: auto
      size: 30%
      <<: *lightbuttonstyle
      <<: *showboth
      <<: *fanstate
      <<: *lightbuttonactions

  switch_button_temp:
    card:
      type: custom:button-card
      entity: '[[entity]]'
      name: '[[name]]'
      icon: '[[icon]]'
      show_last_changed: true
      color: auto
      size: 30%
      <<: *lightbuttonstyle
      <<: *showboth
      <<: *lightbuttonstate
      <<: *lightbuttonactions

  switch_button2_temp:
    card:
      type: custom:button-card
      entity: '[[entity]]'
      name: '[[name]]'
      icon: '[[icon]]'
      show_last_changed: true
      color: auto
      size: 30%
      <<: *lightbutton2style
      <<: *showboth
      <<: *lightbuttonstate
      <<: *lightbuttonactions

  switch_button3_temp:
    card:
      type: custom:button-card
      entity: '[[entity]]'
      name: '[[name]]'
      icon: '[[icon]]'
      show_last_changed: true
      color: auto
      size: 30%
      <<: *lightbuttonstyle
      <<: *showboth
      <<: *lightbuttonstate
      <<: *standardbuttonactions3

id: test
title: Example
path: test
background: rgba(0,0,0,0.0)
icon: mdi:home
panel: true
cards:
  - type: custom:mod-card
    style: |
      ha-card {
        background-image: url(/local/images-lovelace/mobile_backz/mobile16.jpg);
        background-size: 100% 100%;
        padding: 2px 0px 0px 0px;
        border: solid 2px rgb(0, 0, 0);
        --primary-color: white;
        display: block;
        font-size: .78em;
      }
    card:
      type: vertical-stack #custom:vertical-stack-in-card
      cards:
        - type: custom:q-card
          card: controls_fold
        - type: custom:q-card
          card: areas_fold
        - type: custom:q-card
          card: security_fold
        - type: custom:q-card
          card: weather_fold
        - type: custom:q-card
          card: button_cards
        - type: custom:card-modder
          style:
            font-size: .6em
          card:
            type: vertical-stack #custom:vertical-stack-in-card
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:decluttering-card
                    template: bar_card_temp
                    variables:
                      - value_1: 20
                      - color_1: '#DC143C'
                      - value_2: 40
                      - color_2: '#bf9540'
                      - color_3: 'var(--sidebar-icon-color)'
                      - columns: 1
                      - height: 28px
                      - entity: sensor.battery_level_2 #sensor.pixel2statusbatt
                      - title: Pixel
                      - tap_action: info
                  - type: custom:decluttering-card
                    template: bar_card_temp
                    variables:
                      - value_1: 30
                      - color_1: 'var(--sidebar-icon-color)'
                      - value_2: 50
                      - color_2: '#f3f400'
                      - color_3: '#b30000'
                      - columns: 1
                      - height: 28px
                      - entity: sensor.processor_use
                      - title: CPU
                      - tap_action: info
              - type: horizontal-stack
                cards:
                  - type: custom:decluttering-card
                    template: bar_card_temp
                    variables:
                      - value_1: 40
                      - color_1: 'rgba(0, 0, 255,0.8)'
                      - value_2: 50
                      - color_2: 'var(--sidebar-icon-color)'
                      - color_3: 'var(--sidebar-icon-color)'
                      - columns: 1
                      - height: 28px
                      - entity: sensor.filtered_realistic_temperature
                      - title: In
                      - tap_action: info
                  - type: custom:decluttering-card
                    template: bar_card_temp
                    variables:
                      - value_1: 40
                      - color_1: 'rgba(0, 0, 255,0.8)'
                      - value_2: 50
                      - color_2: 'var(--sidebar-icon-color)'
                      - color_3: 'var(--sidebar-icon-color)'
                      - columns: 1
                      - height: 28px
                      - entity: sensor.outside_avg_temperature
                      - title: Out
                      - tap_action: info
        - type: horizontal-stack
          cards:
            - type: custom:card-modder
              style:
                "--paper-card-background-color": 'rgba(0, 0, 0,0.0)'
                border-radius: 0px 0px 0px 16px
                font-weight: bold
                letter-spacing: 1px
                text-shadow: "2px 2px 4px black"
                font-size: .8em
                height: 46px
                display: block
              card:
                type: custom:bignumber-card
                title: SUNRISE
                entity: sensor.sunrise
                scale: 12px
            - type: custom:card-modder
              style:
                "--paper-card-background-color": 'rgba(0, 0, 0,0.0)'
                font-weight: bold
                letter-spacing: 2px
                text-shadow: "0 1px 0 #CCCCCC, 0 2px 0 #c9c9c9, 0 3px 0 #bbb, 0 4px 0 #b9b9b9, 0 5px 0 #aaa, 0 6px 1px rgba(0,0,0,.1), 0 0 5px rgba(0,0,0,.1), 0 1px 3px rgba(0,0,0,.3), 0 3px 5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.25), 0 10px 10px rgba(0,0,0,.2), 0 20px 20px rgba(0,0,0,.15)"
                height: 35px
              card:
                type: custom:bignumber-card
                entity: sensor.time_12_hour
                scale: 23px
            - type: 'custom:button-card'
              color_type: blank-card
              styles:
                card:
                  - width: 5px
            - type: custom:card-modder
              style:
                "--paper-card-background-color": 'rgba(0, 0, 0,0.0)'
                border-radius: 0px 0px 16px 0px
                font-weight: bold
                letter-spacing: 1px
                text-shadow: "2px 2px 4px black"
                font-size: .8em
                height: 46px
              card:
                type: custom:bignumber-card
                title: SUNSET
                entity: sensor.sunset
                scale: 12px
